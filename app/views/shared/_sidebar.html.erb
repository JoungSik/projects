<aside data-sidebar-target="sidebar" class="fixed top-0 left-0 h-screen w-64 bg-white transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-40">
  <div class="p-4">
    <%= link_to root_path, class: "text-xl font-bold text-indigo-600" do %>
      <%= t("app.name") %>
    <% end %>
  </div>

  <div class="p-4">
    <div class="flex items-center justify-between mb-4">
      <h2 class="font-semibold text-gray-600"><%= t("workspaces.header") %></h2>
      <%= link_to new_workspace_path, class: "text-gray-400 hover:text-indigo-600 cursor-pointer", data: { turbo_stream: true } do %>
        <%= lucide_icon "plus", class: "w-5 h-5" %>
      <% end %>
    </div>
    <div class="space-y-2">
      <% @workspaces.each do |workspace| %>
        <%= link_to workspace, class: "block w-full text-left px-3 py-2 rounded-lg hover:bg-indigo-50 hover:text-indigo-700 #{sidebar_color(workspace.id, @workspace.try(:id))}" do %>
          <%= lucide_icon "briefcase", class: "w-4 h-4 inline-block mr-2" %>
          <%= workspace.name %>
        <% end %>
      <% end %>
    </div>
  </div>
</aside>

<div data-action="click->sidebar#toggle" data-sidebar-target="overlay" class="hidden fixed inset-0 bg-black/75 z-30"></div>